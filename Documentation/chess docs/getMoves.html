<!DOCTYPE html>

<html>
<head>
  <title>getMoves.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="chess.html">
                  chess.js
                </a>
              
                
                <a class="source" href="getMoves.html">
                  getMoves.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>getMoves.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*
@param: aBoardPiece -&gt; the piece to determine the possible moves for
@pre: none -&gt; called as a helper function within makeMove() which is event handled
@post: an array, possibleMoves, is returned containing the board sqaure locations that aBoardPiece can move to
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPossibleMoves</span>(<span class="hljs-params">aBoardPiece</span>) </span>{
    <span class="hljs-keyword">let</span> currentLocation = aBoardPiece.parentNode.id;
    <span class="hljs-keyword">let</span> currentColumn = currentLocation.charCodeAt(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">let</span> currentRow = <span class="hljs-built_in">parseInt</span>(currentLocation.charAt(<span class="hljs-number">1</span>));

    <span class="hljs-keyword">let</span> pieceType = aBoardPiece.id.substring(<span class="hljs-number">0</span>, aBoardPiece.id.length - <span class="hljs-number">1</span>);
    
    <span class="hljs-keyword">let</span> pieceColor = aBoardPiece.classList.item(<span class="hljs-number">1</span>);

    <span class="hljs-keyword">let</span> possibleMoves = [];

    <span class="hljs-keyword">if</span> (pieceType == <span class="hljs-string">"pawn"</span>) {

        <span class="hljs-keyword">if</span> (pieceColor == <span class="hljs-string">"whitePiece"</span>) { <span class="hljs-comment">// a white pawn</span>
            <span class="hljs-keyword">let</span> facingBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow + <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>if the boardSquare in front of the pawn does not contain a piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (!facingBoardSquare.hasChildNodes()) {
                possibleMoves.push(facingBoardSquare.id);
            }
            <span class="hljs-keyword">let</span> antiBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + (currentRow + <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>if a black piece can be attacked on the anti diagonal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (antiBoardSquare != <span class="hljs-literal">null</span> &amp;&amp; antiBoardSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (antiBoardSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(antiBoardSquare.id);
                }
            }
            <span class="hljs-keyword">let</span> mainBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + (currentRow + <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>if a black piece can be attacked on the main diagonal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (mainBoardSquare != <span class="hljs-literal">null</span> &amp;&amp; mainBoardSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (mainBoardSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(mainBoardSquare.id);
                }
            }
            <span class="hljs-keyword">let</span> twoAwayFacingBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow + <span class="hljs-number">2</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>if the pawn is at its starting position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (!twoAwayFacingBoardSquare.hasChildNodes() &amp;&amp; currentRow == <span class="hljs-number">2</span>) {
                possibleMoves.push(twoAwayFacingBoardSquare.id);
            }
        }
        <span class="hljs-keyword">else</span> { <span class="hljs-comment">// a black pawn</span>
            <span class="hljs-keyword">let</span> facingBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow - <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>if the boardSquare in front of the pawn does not contain a piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (!facingBoardSquare.hasChildNodes()) {
                possibleMoves.push(facingBoardSquare.id);
            }
            <span class="hljs-keyword">let</span> antiBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + (currentRow - <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>if a white piece can be attacked on the anti diagonal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (antiBoardSquare != <span class="hljs-literal">null</span> &amp;&amp; antiBoardSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (antiBoardSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(antiBoardSquare.id);
                }
            }
            <span class="hljs-keyword">let</span> mainBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + (currentRow - <span class="hljs-number">1</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>if a white piece can be attacked on the main diagonal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (mainBoardSquare != <span class="hljs-literal">null</span> &amp;&amp; mainBoardSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (mainBoardSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(mainBoardSquare.id);
                }
            }
            <span class="hljs-keyword">let</span> twoAwayFacingBoardSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow - <span class="hljs-number">2</span>));</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>if the pawn is at its starting position</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (!twoAwayFacingBoardSquare.hasChildNodes() &amp;&amp; currentRow == <span class="hljs-number">7</span>) {
                possibleMoves.push(twoAwayFacingBoardSquare.id);
            }
        }
    }

    <span class="hljs-keyword">if</span> (pieceType == <span class="hljs-string">"rook"</span> || pieceType == <span class="hljs-string">"queen"</span>) {
        <span class="hljs-keyword">let</span> evaluatingRow = currentRow;
        <span class="hljs-keyword">let</span> posVerticalDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            posVerticalDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + ++evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (posVerticalDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (posVerticalDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (posVerticalDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(posVerticalDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(posVerticalDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(posVerticalDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !posVerticalDirSquare.hasChildNodes());

        evaluatingRow = currentRow;
        <span class="hljs-keyword">let</span> negVerticalDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            negVerticalDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + --evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (negVerticalDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (negVerticalDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (negVerticalDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(negVerticalDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(negVerticalDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(negVerticalDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !negVerticalDirSquare.hasChildNodes());

        <span class="hljs-keyword">let</span> evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> posHorizontalDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            posHorizontalDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(++evaluatingColumn) + currentRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (posHorizontalDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (posHorizontalDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (posHorizontalDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(posHorizontalDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(posHorizontalDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(posHorizontalDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !posHorizontalDirSquare.hasChildNodes());

        evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> negHorizontalDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            negHorizontalDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(--evaluatingColumn) + currentRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (negHorizontalDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (negHorizontalDirSquare.hasChildNodes()) { 
                    <span class="hljs-keyword">if</span> (negHorizontalDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(negHorizontalDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(negHorizontalDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(negHorizontalDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !negHorizontalDirSquare.hasChildNodes());
    }

    <span class="hljs-keyword">if</span> (pieceType == <span class="hljs-string">"bishop"</span> || pieceType == <span class="hljs-string">"queen"</span>) {
        <span class="hljs-keyword">let</span> evaluatingRow = currentRow;
        <span class="hljs-keyword">let</span> evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> posAntiDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            posAntiDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(++evaluatingColumn) + ++evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (posAntiDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (posAntiDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (posAntiDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(posAntiDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(posAntiDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(posAntiDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !posAntiDirSquare.hasChildNodes());

        evaluatingRow = currentRow;
        evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> negAntiDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            negAntiDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(--evaluatingColumn) + --evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (negAntiDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (negAntiDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (negAntiDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(negAntiDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(negAntiDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(negAntiDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !negAntiDirSquare.hasChildNodes());

        evaluatingRow = currentRow;
        evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> posMainDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            posMainDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(++evaluatingColumn) + --evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (posMainDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (posMainDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (posMainDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(posMainDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(posMainDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(posMainDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !posMainDirSquare.hasChildNodes());

        evaluatingRow = currentRow;
        evaluatingColumn = currentColumn;
        <span class="hljs-keyword">let</span> negMainDirSquare;
        <span class="hljs-keyword">do</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>get the next boardSquare</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            negMainDirSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(--evaluatingColumn) + ++evaluatingRow);</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>if the boardSquare is not empty and contains an attackable piece</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (negMainDirSquare != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (negMainDirSquare.hasChildNodes()) {
                    <span class="hljs-keyword">if</span> (negMainDirSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                        possibleMoves.push(negMainDirSquare.id);
                    }
                }
                <span class="hljs-keyword">else</span> { <span class="hljs-comment">// the boardSquare is empty</span>
                    possibleMoves.push(negMainDirSquare.id);
                }
            }
        } <span class="hljs-keyword">while</span>(negMainDirSquare != <span class="hljs-literal">null</span> &amp;&amp; !negMainDirSquare.hasChildNodes());
    }

    <span class="hljs-keyword">if</span> (pieceType == <span class="hljs-string">"knight"</span>) {
        <span class="hljs-keyword">let</span> evaluatingRow = currentRow + <span class="hljs-number">2</span>;
        <span class="hljs-keyword">let</span> posVerticalDirSquareR = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + evaluatingRow);
        <span class="hljs-keyword">if</span> (posVerticalDirSquareR != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (posVerticalDirSquareR.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (posVerticalDirSquareR.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(posVerticalDirSquareR.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(posVerticalDirSquareR.id);
            }
        }
        <span class="hljs-keyword">let</span> posVerticalDirSquareL = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + evaluatingRow);
        <span class="hljs-keyword">if</span> (posVerticalDirSquareL != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (posVerticalDirSquareL.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (posVerticalDirSquareL.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(posVerticalDirSquareL.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(posVerticalDirSquareL.id);
            }
        }
        evaluatingRow = currentRow - <span class="hljs-number">2</span>;
        <span class="hljs-keyword">let</span> negVerticalDirSquareR = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + evaluatingRow);
        <span class="hljs-keyword">if</span> (negVerticalDirSquareR != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (negVerticalDirSquareR.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (negVerticalDirSquareR.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(negVerticalDirSquareR.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(negVerticalDirSquareR.id);
            }
        }
        <span class="hljs-keyword">let</span> negVerticalDirSquareL = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + evaluatingRow);
        <span class="hljs-keyword">if</span> (negVerticalDirSquareL != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (negVerticalDirSquareL.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (negVerticalDirSquareL.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(negVerticalDirSquareL.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(negVerticalDirSquareL.id);
            }
        }


        <span class="hljs-keyword">let</span> evaluatingColumn = currentColumn + <span class="hljs-number">2</span>;
        <span class="hljs-keyword">let</span> posHorizontalDirSquareT = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(evaluatingColumn) + (currentRow + <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (posHorizontalDirSquareT != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (posHorizontalDirSquareT.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (posHorizontalDirSquareT.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(posHorizontalDirSquareT.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(posHorizontalDirSquareT.id);
            }
        }
        <span class="hljs-keyword">let</span> posHorizontalDirSquareB = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(evaluatingColumn) + (currentRow - <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (posHorizontalDirSquareB != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (posHorizontalDirSquareB.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (posHorizontalDirSquareB.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(posHorizontalDirSquareB.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(posHorizontalDirSquareB.id);
            }
        }
        evaluatingColumn = currentColumn - <span class="hljs-number">2</span>;
        <span class="hljs-keyword">let</span> negHorizontalDirSquareT = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(evaluatingColumn) + (currentRow + <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (negHorizontalDirSquareT != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (negHorizontalDirSquareT.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (negHorizontalDirSquareT.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(negHorizontalDirSquareT.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(negHorizontalDirSquareT.id);
            }
        }
        <span class="hljs-keyword">let</span> negHorizontalDirSquareB = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(evaluatingColumn) + (currentRow - <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (negHorizontalDirSquareB != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (negHorizontalDirSquareB.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (negHorizontalDirSquareB.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(negHorizontalDirSquareB.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(negHorizontalDirSquareB.id);
            }
        }
    }

    <span class="hljs-keyword">if</span> (pieceType == <span class="hljs-string">"king"</span>) {
        <span class="hljs-keyword">let</span> topSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow + <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (topSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (topSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (topSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(topSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(topSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> topRightSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + (currentRow + <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (topRightSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (topRightSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (topRightSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(topRightSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(topRightSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> topLeftSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + (currentRow + <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (topLeftSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (topLeftSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (topLeftSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(topLeftSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(topLeftSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> leftSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + (currentRow));
        <span class="hljs-keyword">if</span> (leftSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (leftSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (leftSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(leftSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(leftSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> rightSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + (currentRow));
        <span class="hljs-keyword">if</span> (rightSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (rightSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (rightSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(rightSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(rightSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> bottomSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn) + (currentRow - <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (bottomSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (bottomSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (bottomSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(bottomSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(bottomSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> bottomRightSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">1</span>) + (currentRow - <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (bottomRightSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (bottomRightSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (bottomRightSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(bottomRightSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(bottomRightSquare.id);
            }
        }
        <span class="hljs-keyword">let</span> bottomLeftSquare = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">1</span>) + (currentRow - <span class="hljs-number">1</span>));
        <span class="hljs-keyword">if</span> (bottomLeftSquare != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (bottomLeftSquare.hasChildNodes()) {
                <span class="hljs-keyword">if</span> (bottomLeftSquare.firstChild.classList.item(<span class="hljs-number">1</span>) != pieceColor) {
                    possibleMoves.push(bottomLeftSquare.id);
                }
            }
            <span class="hljs-keyword">else</span> { <span class="hljs-comment">// boardSquare does not contain a piece</span>
                possibleMoves.push(bottomLeftSquare.id);
            }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>possible castling</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">if</span> (currentLocation == <span class="hljs-string">"e1"</span> || currentLocation == <span class="hljs-string">"e8"</span>) {
            <span class="hljs-keyword">let</span> rightTwoSquares = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">2</span>) + (currentRow));
            <span class="hljs-keyword">let</span> rightRookLocation = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn + <span class="hljs-number">3</span>) + (currentRow));
            <span class="hljs-keyword">let</span> leftTwoSquares = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">2</span>) + (currentRow));
            <span class="hljs-keyword">let</span> leftThreeSquares = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">3</span>) + (currentRow)) 
            <span class="hljs-keyword">let</span> leftRookLocation = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-built_in">String</span>.fromCharCode(currentColumn - <span class="hljs-number">4</span>) + (currentRow));

            <span class="hljs-keyword">if</span> (!rightSquare.hasChildNodes() &amp;&amp; !rightTwoSquares.hasChildNodes() &amp;&amp;
                rightRookLocation.firstElementChild.id.substring(<span class="hljs-number">0</span>, rightRookLocation.firstElementChild.id.length - <span class="hljs-number">1</span>) == <span class="hljs-string">"rook"</span>)
            {
                possibleMoves.push(rightRookLocation.id);
            }
            <span class="hljs-keyword">if</span> (!leftSquare.hasChildNodes() &amp;&amp; !leftTwoSquares.hasChildNodes() &amp;&amp; !leftThreeSquares.hasChildNodes() &amp;&amp;
                leftRookLocation.firstElementChild.id.substring(<span class="hljs-number">0</span>, leftRookLocation.firstElementChild.id.length - <span class="hljs-number">1</span>) == <span class="hljs-string">"rook"</span>)
            {
                possibleMoves.push(leftRookLocation.id);
            }
        }
    }

    <span class="hljs-keyword">return</span> possibleMoves;
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
